<!doctype html>
<html>
    <head>
        <title>TEST TABLE</title>
        <meta charset="UTF-8">
        <style>
          table, th, td {
              border: 1px solid #d4d4d4;
              border-collapse: collapse; 
              text-align: center;
            }
            
            th, td {
              padding: 5px;
              font-size: 10px;
              border-bottom: 1px solid #ddd;
            }
            /*
            td a {
              color: #a47719;
            }
            */

    
        </style>
    </head>
    <body>
        <div>
            <table style="float:left">
                <tr>
                    <th>Level</th>
                    {% for i in col_names %}
                        {% if i != "slots" %}
                            <th>{{i.replace("_", " ").title()}}</th>
                        {% endif %}
                    {% endfor %}
                </tr>
                {% for k,v in data|dictsort(by='key') %}
                   <tr>
                        <td>{{k}}</td>
                        {% for col_name in col_names %}
                            {% if col_name != 'slots' %}
                                <td>{{v[col_name]}}</td>
                            {% endif %}

                        {% endfor %}
                    </tr>
                {% endfor %}    
            </table>      
        <table style="float:left"> 
                <!-- <th colspan="{{data[1]['slots']|length+1}}">Spell Slots</th> -->
                <tr>
                    <td><b>Cantrips</b></td>
                    {% for i in range(1, data[1]['slots']| length) %}
                        {% if loop.last %}
                        <td><b>{{i}}</b></td>
                        {% else %}
                        <td><b>{{i}}</b></td>
                        {% endif %}
                    {% endfor %}
                </tr>
                {% for v in data.values() %}
                    <tr>
                        {% for slot in v["slots"] %}
                            <td>{{slot}}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
                </table>
        </div>
    </body>
</html>